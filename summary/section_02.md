# 스프링 핵심원리_기본편

## 스프링 핵심 원리 이해1 - 예제 만들기

1. 비즈니스 요구사항과 설계
 
    - 회원
        - 회원을 가입하고 조회할 수 있다.
        - 회원은 일반과 VIP 두 가지 등급이 있다.
        - 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다. (미확정)
    
    - 주문과 할인 정핵
        - 회원은 상품을 주문할 수 있다.
        - 회원 등급에 따라 할인 정책을 적용할 수 있다.
        - 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용해달라 (나중에 변경 가능)
        - 할인 정책은 변경 가능성이 높다. 최악의 경우 할인 적용하지 않을 수 있다.

2. 회원 도메인 설계
    - 회원 도메인 요구사항
        - 회원 가입 & 조회 가능
        - 일반과 VIP 두 가지 등급 존재 
        - 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동 가능 (미확정)

    - 협력관계

      클라이언트 -----> 회원 서비스(Interface) -----> 회원저장소(Interface)

3. 회원 도메인 개발

    - 등급 enum 클래스 생성
    
    - 회원 엔티티 (도메인) 생성

    - 회원 저장소 (인터페이스 및 구현체) 생성

4. 회원 도메인 실행과 테스트

    - 애플리케이션 로직으로 테스트하는 것은 좋은 방법이 아니므로 JUnit 테스트를 사용

5. 주문과 할인 도메인 설계
    
    - 주문과 할인 정책
        - 회원은 상품 주문 가능
        - 회원 등급에 따라 할인 정책 적용 가능
        - 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용해달라
        - 할인 정책은 변경 가능성이 높으며 최악의 경우, 할인을 적용하지 않을 수 있다.

    - 주문 도메인 협력 역할, 책임

        클라이언트 -----> 주문 서비스(Interface) -----> 회원 저장소 역할(Interface)
                                                  -----> 할인 정책 역할(Interface)
                            
6. 주문과 할인 도메인 개발

    - 주문 엔티티 (도메인) 생성

    - 할인 정책 (인터페이스 및 구현체) 생성

    - 주문 서비스 (인터페이스 및 구현체) 생성

7. 주문과 할인 도메인 실행과 테스트

    - 애플리케이션 로직으로 테스트하는 것은 좋은 방법이 아니므로 JUnit 테스트를 사용


* 문제점
    - 의존 관계가 인터페이스 뿐만 아니라 구현까지 모두 의존하는 문제점 존재 (OCP ,DIP 원칙 위반)